@inherits RazorFunction
@using System.Text.RegularExpressions
@functions {
    public override string FunctionDescription
    {
        get { return "Plays a Vimeo video."; }
    }

    [FunctionParameter(Label = "Vimeo URL", Help = "The URL to the video on Vimeo, like http://vimeo.com/15195655")]
    public string VimeoURL { get; set; }

}
@{
    string pattern = @"vimeo\.com/(?:.*#|.*/videos/)?([0-9]+)";
    if (!Regex.IsMatch(VimeoURL, pattern))
    {
        <div class="alert alert-danger">Wrong Vimeo URL.</div>
        return;
    }
    var match = Regex.Match(VimeoURL, pattern);
}

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <style id="vimeo-video" type="text/css">
        .vimeo-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
        }
            .vimeo-container iframe, .vimeo-container object, .vimeo-container embed {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
            }
    </style>
</head>
<body>
    <div class="vimeo-container">
        <iframe src="//player.vimeo.com/video/@(match.Groups[1].Value)" width="500" height="375" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe>
    </div>
</body>
</html>

